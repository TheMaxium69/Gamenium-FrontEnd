<ng-container *ngIf="noneGame">
  <app-none></app-none>
</ng-container>
<ng-container *ngIf="!noneGame">

<!--- MODAL --->
<modal-note></modal-note>
<modal-add-game></modal-add-game>


<div id="banniere-container" class="banniere-container">

  <ng-container *ngIf="gameSelected?.image?.icon_url == this.app.noBoxartImage_default">
    <div class="banniere" [ngStyle]="{ '--imgGameUrlLarge': 'url(' + this.app.noBoxartImage + ')' }"></div>
  </ng-container>
  <ng-container *ngIf="gameSelected?.image?.icon_url != this.app.noBoxartImage_default">
    <div class="banniere" [ngStyle]="{ '--imgGameUrlLarge': 'url(' + gameSelected?.image?.screen_large_url + ')' }"></div>
  </ng-container>
</div>


<div id="pictureAndName" class="pictureAndName">
  <ng-container *ngIf="gameSelected?.image?.icon_url == this.app.noBoxartImage_default">
    <div class="picture" [ngStyle]="{ '--imgGameUrl': 'url(' + this.app.noBoxartImage + ')' }"></div>
  </ng-container>
  <ng-container *ngIf="gameSelected?.image?.icon_url != this.app.noBoxartImage_default">
    <div class="picture" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
  </ng-container>
  <div class="name blocks-shadow">
    <div class="game-name">
      <h1 class="mb-0">{{ gameSelected?.name }}</h1>
    </div>
    <div [ngStyle]="{ '--userColor': userColor ?? '#FF0000' }" class="global-game-rate">
      <div class="global-rate">10</div>
      <div class="global-slash">/</div>
      <div class="global-20">20</div>
    </div>
  </div>
</div>


<!-- INFORMATIONS  -->
<div id="section-info" class="section-info">
  <div class="information">
    <h2 class="title">Informations</h2>

    <div class="information-container">
      <div class="content">
        <p>Contenu</p>
        <div [ngStyle]="{ '--userColor': userColor ?? '#FF0000' }" class="information-line-container">
          <div class="information-lines">
            <div class="field" *ngIf="game_genres.length > 0">
              <p>
                Genre
              </p>
            </div>
            <div class="data">
              <ng-container *ngFor="let genre of game_genres">
                <p>
                  {{ genre }}
                </p>
              </ng-container>
            </div>
          </div>
          <div class="information-lines">
            <div class="field">
              <p>
                Plate-Forme
              </p>
            </div>
            <div class="data" *ngIf="gameSelected?.platforms">
              <p>
                <ng-container *ngFor="let platform of gameSelected?.platforms; let last = last">
                  <ng-container *ngIf="gameSelected">
                  <ng-container *ngIf="gameSelected.platforms">
                      {{ this.app.plateformeNameFormatage(platform.name) }}<br>
                  </ng-container>
                  </ng-container>
                </ng-container>
              </p>
            </div>
            <div class="data" *ngIf="!gameSelected?.platforms">
                <p>
                  {{ this.app.plateformeNameFormatage(this.app.noPlateform.name) }}
                </p>
            </div>
          </div>
          <div class="information-lines" *ngIf="gameSelected?.originalGameRating">
            <div class="field">
              <p>
                Classification
              </p>
            </div>
            <div class="data">
              <p>
                <ng-container *ngFor="let orignalGameRatingOne of gameSelected?.originalGameRating; let last = last">
                  {{ orignalGameRatingOne.name }}<br><!--<span *ngIf="!last">, </span>-->
                </ng-container>
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="context">
        <p>Context</p>
        <div [ngStyle]="{ '--userColor': userColor ?? '#FF0000' }" class="information-line-container">
          <div class="information-lines">
            <div class="field" *ngIf="game_developpers.length > 0">
              <p>
                Développeur
              </p>
            </div>
            <div class="data">
              <p>
                <ng-container *ngFor="let dev of game_developpers">
                  {{ dev }}<br>
                </ng-container>
              </p>
            </div>
          </div>
          <div class="information-lines" >
            <div class="field" *ngIf="game_publishers.length > 0">
              <p>
                Editeur
              </p>
            </div>
            <div class="data">
              <p>
                <ng-container *ngFor="let publi of game_publishers">
                  {{ publi }}<br>
                </ng-container>
              </p>
            </div>
          </div>
          <div class="information-lines">
            <div class="field" *ngIf="game_franchises.length > 0">
              <p>
                Franchises
              </p>
            </div>
            <div class="data">
              <p>
                <ng-container *ngFor="let franchise of game_franchises">
                  {{ franchise }}<br>
                </ng-container>
              </p>
            </div>
          </div>
          <div class="information-lines">
            <div class="field">
              <p>
                Date de sortie
              </p>
            </div>
            <div class="data">
              <ng-container *ngIf="gameSelected?.originalReleaseDate">
                <p>
                  {{ gameSelected?.originalReleaseDate | date:'dd / MM / yyyy' }}
                </p>
              </ng-container>
              <ng-container *ngIf="gameSelected">
              <ng-container *ngIf="!gameSelected?.originalReleaseDate">
                <p>
                  <ng-container *ngIf="gameSelected?.expectedReleaseYear">
                    <ng-container *ngIf="gameSelected?.expectedReleaseMonth">
                      <ng-container *ngIf="gameSelected?.expectedReleaseDay">
                        {{ gameSelected?.expectedReleaseDay }}
                        /
                      </ng-container>
                      <ng-container *ngIf="gameSelected.expectedReleaseMonth < 10">
                        0{{ gameSelected?.expectedReleaseMonth }}
                      </ng-container>
                      <ng-container *ngIf="gameSelected.expectedReleaseMonth >= 10">
                        {{ gameSelected?.expectedReleaseMonth }}
                      </ng-container>
                      /
                    </ng-container>
                    {{ gameSelected?.expectedReleaseYear }}
                  </ng-container>
                </p>
              </ng-container>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- PREMIÉRE SÉPARATION -->
<div class="container-2">
  <div class="pictures-separation"></div>
</div>


<!-- SUIVI DES ACTUALITES -->
<div id="actualities" class="actualities">
  <div>
      <p class="title">Suivre les actus du jeu:</p>
      <div class="provider_card blocks-shadow">
          <div class="provider_color" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
          <div class="provider_profile pp-shadow"  [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
          <div>
              <p class="name">{{gameSelected?.name}}</p>
          </div>
          <small class="follow-btn shadow-btn">Suivre</small>
      </div>
  </div>

  <div class="actu-separation"></div>

  <div>
      <div>
        <p id="follow-provider" class="title">Suivre les actus des créateurs:</p>
      </div>
      <div class="provider-card-container"
      (mousedown)="startDrag($event)"
      (mousemove)="move($event)"
      (mouseup)="stopDrag()">
          <div class="provider_card blocks-shadow">
              <div class="provider_color" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div class="provider_profile pp-shadow" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div>
                  <p class="name">{{gameSelected?.name}}</p>
              </div>
              <small class="follow-btn shadow-btn">Suivre</small>
          </div>
          <div class="provider_card blocks-shadow">
              <div class="provider_color" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div class="provider_profile pp-shadow" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div>
                  <p class="name">{{gameSelected?.name}}</p>
              </div>
              <small class="follow-btn shadow-btn">Suivre</small>
          </div>
          <div class="provider_card blocks-shadow">
              <div class="provider_color" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div class="provider_profile pp-shadow" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div>
                  <p class="name">{{gameSelected?.name}}</p>
              </div>
              <small class="follow-btn shadow-btn">Suivre</small>
          </div>
          <div class="provider_card blocks-shadow">
              <div class="provider_color" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div class="provider_profile pp-shadow" [ngStyle]="{ '--imgGameUrl': 'url(' + gameSelected?.image?.small_url + ')' }"></div>
              <div>
                  <p class="name">{{gameSelected?.name}}</p>
              </div>
              <small class="follow-btn shadow-btn">Suivre</small>
          </div>
      </div>
  </div>
</div>


<!-- SECTION NOTE -->
<div id="ratings">
  <div class="container-2">
    <div class="border-section">
      <!-- les notes de la Presse -->
      <div class="row mb-40">
        <!-- notes -->
        <div class="w-sections-notes">
            <p class="title-notes-margin third-color">Notes de la presse:</p>

            <div class="one-rating mp-notes">
                <div class="provider-picture">
                    <img src="assets/press/metacritic.png" alt="Metacritic Logo" class="media-img" width="30" height="30">
                </div>
                <div class="rating-info">
                    <div class="ratings-details-name">Metacritic</div>
                    <div class="ratings-details-rate">
                        <span class="big-rate">0</span>/100
                    </div>
                </div>
            </div>

            <div class="one-rating mp-notes">
                <div class="provider-picture">
                    <img src="assets/press/jvc.png" alt="Jeuxvidéo.com Logo" class="media-img" width="30" height="30">
                </div>
                <div class="rating-info">
                    <div class="ratings-details-name">Jeuxvidéo.com</div>
                    <div class="ratings-details-rate">
                        <span class="big-rate">0</span>/20
                    </div>
                </div>
            </div>


        </div>

        <!-- circle -->
        <div class="w-sections-circles">
            <p class="title-circle-margin third-color">Note Presse :</p>
            <div class="d-flex justify-content">
                <div class="width-circle">
                    <div [ngStyle]="{ '--userColor': userColor ?? '#FF0000' }" class="shadow-btn border color-circle ratio ratio-1x1 rounded-circle">
                        <p class="font-notes d-flex justify-content-center align-items-center"><span>20</span>/20</p>
                    </div>
                </div>
            </div>
        </div>
      </div>

      <!-- les notes des Joueurs -->
      <div class="row mb-40">
        <!-- notes -->
        <div class="w-sections-notes">
            <p class="title-notes-margin third-color">Notes des joueurs:</p>

            <div class="one-rating mp-notes">
                <div class="provider-picture">
                  <img src="assets/press/metacritic.png"  class="media-img" alt="Metacritic Logo" width="30" height="30">
                </div>
                <div class="rating-info">
                  <div class="ratings-details-name">Metacritic Avis</div>
                  <div class="ratings-details-rate">
                    <span class="big-rate">0</span>/10
                  </div>
                </div>
            </div>

            <div class="one-rating mp-notes-last">
                <div class="provider-picture">
                  <img src="assets/logo.png"  class="media-img" alt="Gamenium Logo" width="30" height="30">
                </div>
                <div class="rating-info">
                  <div class="ratings-details-name">Gamenium Avis</div>
                  <div class="ratings-details-rate">
                    <span class="big-rate">0</span>/20
                  </div>
                </div>
            </div>
        </div>

        <!-- circle -->
        <div class="w-sections-circles">
            <p class="title-circle-margin third-color">Note Joueurs :</p>
            <div class="d-flex justify-content">
                <div class="width-circle2">
                    <div class="shadow-btn third-bg border ratio ratio-1x1 rounded-circle">
                        <p class="font-notes d-flex justify-content-center align-items-center"><span>15</span>/20</p>
                    </div>
                </div>
            </div>
        </div>
      </div>

      <!-- Add Note Button -->
      <div *ngIf="app.isLoggedIn && hasGameInCollection" class="add-note">
        <button style="background-color: {{ userColor || this.app.colorDefault }}" class="main-gamenium-btn" data-bs-toggle="modal" data-bs-target="#noteGamePage" (click)="setModal()">Ajouter une note</button>
      </div>
    </div>
  </div>
</div>


<!-- SECTION CARROUSEL -->
<div class="carroussel-container" >
    <div class="carroussel" >
      <section style="display: none">

        <div id="cCarousel">
          <div class="arrow" id="prev"><i class="ri-arrow-left-s-line"></i></div>
          <div class="arrow" id="next"><i class="ri-arrow-right-s-line"></i></div>

          <div id="carousel-vp">
            <div id="cCarousel-inner">

              <article class="cCarousel-item">
                <img src="https://images.unsplash.com/photo-1564292284209-60cce69f08ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODQ0MTA1MTJ8&ixlib=rb-4.0.3&q=80&w=400" alt="Moon">
                <div class="infos">
                    <div class="carrousel-sep"></div>
                  <p>Title 1 / 6</p>
                </div>
              </article>

              <article class="cCarousel-item">
                <img src="https://images.unsplash.com/photo-1564292284209-60cce69f08ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODQ0MTA1MTJ8&ixlib=rb-4.0.3&q=80&w=400" alt="Moon">
                <div class="infos">
                    <div class="carrousel-sep"></div>
                  <p>Title 2 / 6</p>
                </div>
              </article>

              <article class="cCarousel-item">
                <img src="https://images.unsplash.com/photo-1564292284209-60cce69f08ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODQ0MTA1MTJ8&ixlib=rb-4.0.3&q=80&w=400" alt="Moon">
                <div class="infos">
                    <div class="carrousel-sep"></div>
                  <p>Title 3 / 6</p>
                </div>
              </article>

              <article class="cCarousel-item">
                <img src="https://images.unsplash.com/photo-1564292284209-60cce69f08ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODQ0MTA1MTJ8&ixlib=rb-4.0.3&q=80&w=400" alt="Moon">
                <div class="infos">
                    <div class="carrousel-sep"></div>
                  <p>Title 4 / 6</p>
                </div>
              </article>

              <article class="cCarousel-item">
                <img src="https://images.unsplash.com/photo-1564292284209-60cce69f08ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODQ0MTA1MTJ8&ixlib=rb-4.0.3&q=80&w=400" alt="Moon">
                <div class="infos">
                    <div class="carrousel-sep"></div>
                  <p>Title 5 / 6</p>
                </div>
              </article>




              <article class="cCarousel-item">
                <img src="https://images.unsplash.com/photo-1564292284209-60cce69f08ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2ODQ0MTA1MTJ8&ixlib=rb-4.0.3&q=80&w=400" alt="Moon">
                <div class="infos">
                    <div class="carrousel-sep"></div>
                  <p>Title 6 / 6</p>
                </div>
              </article>


              <article class="cCarousel-item" *ngIf="gameSelected?.image?.icon_url">
                <img [src]="gameSelected?.image?.icon_url" alt="icon_url">
                <div class="infos">
                  <div class="carrousel-sep"></div>
                  <p>Title 1 / 8</p>
                </div>
              </article>
            </div>
          </div>
        </div>
      </section>
    </div>
</div>


<!-- SECONDE SÉPARATION -->
<div class="container-2">
  <div class="pictures-separation"></div>
</div>


  <!-- SECTION AJOUT COLLECTION -->
<div class="container-2">

  <div class="title-add">
    <h3><span style="color: {{ userColor ? userColor : this.app.colorDefault }};">{{ this.app.userConnected.displaynameUseritium || this.app.userConnected.username }}</span> Vous possedez le jeu ? Ajoutez le à votre collection :</h3>
  </div>

  <div *ngIf="gameSelected" class="card-add-to-collection">
    <app-card-game [game]="gameSelected" [isDetailGame]="true" style="width: 100%"></app-card-game>
  </div>

  <div class="show-collection">
    <button style="color: {{ this.app.userConnected?.themeColor || this.app.colorDefault }};border-color: {{ this.app.userConnected?.themeColor || this.app.colorDefault }}" class="sub-gamenium-btn"  routerLink="/mygame">
      Votre collection
    </button>
  </div>

</div>

</ng-container>
